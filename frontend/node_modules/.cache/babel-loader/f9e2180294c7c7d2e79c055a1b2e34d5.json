{"ast":null,"code":"var _jsxFileName = \"/Users/square1-praise/Downloads/Itunes-Web-Store-Search-App-main/frontend/src/components/Search.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Container, Form, Button, FormControl, DropdownButton, Dropdown } from 'react-bootstrap';\nimport DisplayItems from './DisplayItems';\nimport HelpModal from './HelpModal';\nimport FavouriteList from './FavouriteList';\nimport logo from \"../images/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.handleCategorySelect = (eventKey, value) => {\n      this.setState({\n        category: eventKey\n      });\n    };\n\n    this.handleSearchChange = event => {\n      this.setState({\n        searchItem: event.target.value\n      });\n      const searchItemEdited = event.target.value.split(' ').join('+');\n      this.setState({\n        searchItemEdited: searchItemEdited\n      });\n    };\n\n    this.showButton = () => {\n      if (this.state.category !== '') {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-info\",\n          onClick: this.handleSubmit,\n          children: [\"Search \", this.state.category.toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.handleSubmit = () => {\n      const query = this.state.searchItemEdited;\n      const type = this.state.category;\n      axios.get(`/search/${query}/${type}`).then(res => {\n        this.setState({\n          data: res.data.results\n        });\n\n        if (res.data.results.length === 0) {\n          alert('Unfortunately no results were found!');\n        }\n      });\n    };\n\n    this.showNoResults = () => {\n      if (this.state.data.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"noResults\",\n          children: \"Itunes Web Store Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 14\n        }, this);\n      }\n    };\n\n    this.showNoFavourites = () => {\n      const {\n        searchItemEdited,\n        category,\n        data,\n        favourites\n      } = this.state;\n\n      if (favourites.length === 0 && searchItemEdited !== '' && category !== '' && data.length !== 0) {\n        return /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"lead text-center\",\n          children: \"Click the star on an item to view your favourites here!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 14\n        }, this);\n      }\n    };\n\n    this.handleFavourites = (id, kind, artistName, trackName, artwork) => {\n      const {\n        favourites\n      } = this.state;\n\n      if (favourites.find(item => item.id === id)) {\n        alert('This item has already been added to your favourites list!');\n      } else {\n        this.setState({\n          favourites: [...favourites, {\n            id: id,\n            kind: kind,\n            artistName: artistName,\n            trackName: trackName,\n            artwork: artwork\n          }]\n        });\n        alert('Added to your favourites list, scroll down to view!');\n      }\n    };\n\n    this.removeFavourite = id => {\n      const {\n        favourites\n      } = this.state;\n      const newFavourites = favourites.filter(item => item.id !== id);\n      this.setState({\n        favourites: newFavourites\n      });\n      alert('Removed from favourites list');\n    };\n\n    this.state = {\n      searchItem: '',\n      searchItemEdited: '',\n      category: '',\n      data: [],\n      favourites: []\n    };\n  } // Handler for selecting a category from the dropdown menu\n\n\n  render() {\n    const {\n      searchItemEdited,\n      category,\n      data,\n      favourites\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"img\",\n          alt: \"itunes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Itunes Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            onChange: this.handleSearchChange,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"text\",\n              placeholder: \"Search...\",\n              className: \"mr-sm-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n            title: \"Categories\",\n            variant: \"btn btn-info\",\n            id: \"dropdown-basic-button\",\n            onSelect: this.handleCategorySelect,\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"movie\",\n              children: \"Movie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"podcast\",\n              children: \"Podcast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"music\",\n              children: \"Music\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"audiobook\",\n              children: \"Audiobook\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"shortFilm\",\n              children: \"Short Film\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"tvShow\",\n              children: \"TV Show\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"software\",\n              children: \"Software\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"ebook\",\n              children: \"Ebook\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              eventKey: \"all\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchButton\",\n            children: this.showButton()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(HelpModal, {\n            className: \"modalButton btn btn-info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          className: \"cardsContainer\",\n          children: data.length !== 0 ? data.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(DisplayItems, {\n              item: item,\n              handleFavourites: this.handleFavourites\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noResults\",\n            children: this.showNoResults()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          className: \"favouritesContainer\",\n          children: favourites.length !== 0 ? favourites.map((favourite, index) => {\n            return /*#__PURE__*/_jsxDEV(FavouriteList, {\n              favourite: favourite,\n              removeFavourite: this.removeFavourite\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noFavourites\",\n            children: this.showNoFavourites()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/square1-praise/Downloads/Itunes-Web-Store-Search-App-main/frontend/src/components/Search.js"],"names":["React","axios","Container","Form","Button","FormControl","DropdownButton","Dropdown","DisplayItems","HelpModal","FavouriteList","logo","Search","Component","constructor","handleCategorySelect","eventKey","value","setState","category","handleSearchChange","event","searchItem","target","searchItemEdited","split","join","showButton","state","handleSubmit","toUpperCase","query","type","get","then","res","data","results","length","alert","showNoResults","showNoFavourites","favourites","handleFavourites","id","kind","artistName","trackName","artwork","find","item","removeFavourite","newFavourites","filter","render","map","index","favourite"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Container, Form, Button, FormControl, DropdownButton, Dropdown } from 'react-bootstrap';\nimport DisplayItems from './DisplayItems';\nimport HelpModal from './HelpModal';\nimport FavouriteList from './FavouriteList';\nimport logo from \"../images/logo.png\"\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchItem: '',\n      searchItemEdited: '',\n      category: '',\n      data: [],\n      favourites: [],\n    };\n  }\n\n  // Handler for selecting a category from the dropdown menu\n  handleCategorySelect = (eventKey, value) => {\n    this.setState({ category: eventKey });\n  };\n\n  // Handler for changing the search input\n  handleSearchChange = (event) => {\n    this.setState({ searchItem: event.target.value });\n    const searchItemEdited = event.target.value.split(' ').join('+');\n    this.setState({ searchItemEdited: searchItemEdited });\n  };\n\n  // Show search button once a category is selected\n  showButton = () => {\n    if (this.state.category !== '') {\n      return (\n        <Button className=\"btn btn-info\" onClick={this.handleSubmit}>\n          Search {this.state.category.toUpperCase()}\n        </Button>\n      );\n    }\n  };\n\n  // Handler for submitting the search form\n  handleSubmit = () => {\n    const query = this.state.searchItemEdited;\n    const type = this.state.category;\n    axios\n      .get(`/search/${query}/${type}`)\n      .then((res) => {\n        this.setState({ data: res.data.results });\n        if (res.data.results.length === 0) {\n          alert('Unfortunately no results were found!');\n        }\n      });\n  };\n\n  // Show \"No results\" message if no search results are available\n  showNoResults = () => {\n    if (this.state.data.length === 0) {\n      return <h1 id=\"noResults\">Itunes Web Store Search</h1>;\n    }\n  };\n\n  // Show \"No favourites\" message if no favourites are available\n  showNoFavourites = () => {\n    const { searchItemEdited, category, data, favourites } = this.state;\n    if (favourites.length === 0 && searchItemEdited !== '' && category !== '' && data.length !== 0) {\n      return <h3 className=\"lead text-center\">Click the star on an item to view your favourites here!</h3>;\n    }\n  };\n\n  // Handler for adding an item to favourites\n  handleFavourites = (id, kind, artistName, trackName, artwork) => {\n    const { favourites } = this.state;\n    if (favourites.find((item) => item.id === id)) {\n      alert('This item has already been added to your favourites list!');\n    } else {\n      this.setState({\n        favourites: [\n          ...favourites,\n          {\n            id: id,\n            kind: kind,\n            artistName: artistName,\n            trackName: trackName,\n            artwork: artwork,\n          },\n        ],\n      });\n      alert('Added to your favourites list, scroll down to view!');\n    }\n  };\n\n  // Handler for removing an item from favourites\n  removeFavourite = (id) => {\n    const { favourites } = this.state;\n    const newFavourites = favourites.filter((item) => item.id !== id);\n    this.setState({ favourites: newFavourites });\n    alert('Removed from favourites list');\n  };\n\n  render() {\n    const { searchItemEdited, category, data, favourites } = this.state;\n    return (\n        <div>\n            <div className='logo'>\n                        <img src={logo} className='img' alt='itunes'></img>\n                        <h1>Itunes Store</h1>\n                    </div>\n      <Container>\n      \n        <div className=\"header\">\n          <Form onChange={this.handleSearchChange}>\n            <FormControl type=\"text\" placeholder=\"Search...\" className=\"mr-sm-2\" />\n          </Form>\n          <DropdownButton title=\"Categories\" variant=\"btn btn-info\" id=\"dropdown-basic-button\" onSelect={this.handleCategorySelect}>\n            {/* Dropdown items for different categories */}\n            <Dropdown.Item eventKey=\"movie\">Movie</Dropdown.Item>\n            <Dropdown.Item eventKey=\"podcast\">Podcast</Dropdown.Item>\n            <Dropdown.Item eventKey=\"music\">Music</Dropdown.Item>\n            <Dropdown.Item eventKey=\"audiobook\">Audiobook</Dropdown.Item>\n            <Dropdown.Item eventKey=\"shortFilm\">Short Film</Dropdown.Item>\n            <Dropdown.Item eventKey=\"tvShow\">TV Show</Dropdown.Item>\n            <Dropdown.Item eventKey=\"software\">Software</Dropdown.Item>\n            <Dropdown.Item eventKey=\"ebook\">Ebook</Dropdown.Item>\n            <Dropdown.Item eventKey=\"all\">All</Dropdown.Item>\n          </DropdownButton>\n          {/* Show search button once a category is selected */}\n          <div className=\"searchButton\">{this.showButton()}</div>\n          {/* Help modal with instructions */}\n          <HelpModal className=\"modalButton btn btn-info\" />\n        </div>\n        <Container className=\"cardsContainer\">\n          {/* Display search results */}\n          {data.length !== 0 ? (\n            data.map((item, index) => {\n              return (\n                <DisplayItems key={index} item={item} handleFavourites={this.handleFavourites} />\n              );\n            })\n          ) : (\n            <div className=\"noResults\">{this.showNoResults()}</div>\n          )}\n        </Container>\n        <Container className=\"favouritesContainer\">\n          {/* Display favourites list */}\n          {favourites.length !== 0 ? (\n            favourites.map((favourite, index) => {\n              return (\n                <FavouriteList key={index} favourite={favourite} removeFavourite={this.removeFavourite} />\n              );\n            })\n          ) : (\n            <div className=\"noFavourites\">{this.showNoFavourites()}</div>\n          )}\n        </Container>\n      </Container>\n      </div>\n    );\n  }\n\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}